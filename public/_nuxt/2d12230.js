(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{619:function(e,t,o){"use strict";o.r(t);var n=o(18),r=(o(68),o(26),o(71),o(90),o(25),{name:"SVGDemo",data:function(){return{width:500,height:500,ratio:1,dx:0,dy:0,viewport:"0 0 500 500",isLineNode:!1,beforeMouseX:null,beforeMouseY:null,selectIdx:0,pathList:[],pathTemp:"",strokeFill:"#525",strokeOpacity:1,strokeWidth:"5",moveLineX:0,moveLineY:0,startLineX:0,startLineY:0}},mounted:function(){console.log("MOUNT LISTENER ON"),document.addEventListener("mouseup",this.mouseUp),document.addEventListener("mousemove",this.mouseMakeLine)},beforeDestroy:function(){console.log("MOUNT LISTENER OFF"),document.removeEventListener("mouseup",this.mouseUp),document.removeEventListener("mousemove",this.mouseMakeLine)},methods:{zoompan:function(e){var t=this.viewport.split(" ").map((function(e){return parseFloat(e)})),o=Object(n.a)(t,4),r=o[0],h=o[1],d=o[2],l=o[3];e.ctrlKey?(e.deltaY>0?(d*=1.01,l*=1.01):(d*=.99,l*=.99),this.makeViewBox(r,h,d,l),this.ratio=d/this.width,e.preventDefault()):this.dx+e.deltaX>-this.width&&this.dy+e.deltaY>-this.width&&this.dx+e.deltaX<2*this.width&&this.dy+e.deltaY<2*this.width&&(this.makeViewBox(r+e.deltaX,h+e.deltaY,d,l),this.dx+=e.deltaX,this.dy+=e.deltaY)},makeViewBox:function(e,t,o,n){this.viewport=[e,t,o,n].join(" ")},mouseUp:function(e){this.isLineNode=!1,this.beforeMouseX=null,this.beforeMouseY=null,this.pathList.push(this.pathTemp),console.log(this.pathList),this.pathTemp=null,e.preventDefault()},mouseMove:function(e){if(this.isMove){var t=e.offsetX*this.ratio+this.dx,o=e.offsetY*this.ratio+this.dy,n=0,r=0;this.beforeMouseX&&this.beforeMouseY&&(n=t-this.beforeMouseX,r=o-this.beforeMouseY),this.beforeMouseX=t,this.beforeMouseY=o;var h=n+Number(this.rects[this.selectIdx].x),d=r+Number(this.rects[this.selectIdx].y);h>0&&(this.rects[this.selectIdx].x=h),d>0&&(this.rects[this.selectIdx].y=d),e.preventDefault()}},lineNode:function(e,i){this.startLineX=e.offsetX*this.ratio+this.dx,this.startLineY=e.offsetY*this.ratio+this.dy,this.moveLineX=e.offsetX*this.ratio+this.dx,this.moveLineY=e.offsetY*this.ratio+this.dy,this.isLineNode=!0,e.preventDefault()},mouseMakeLine:function(e){if(this.isLineNode){var t=e.offsetX*this.ratio+this.dx,o=e.offsetY*this.ratio+this.dy,n=0,r=0;this.beforeMouseX&&this.beforeMouseY&&(n=t-this.beforeMouseX,r=o-this.beforeMouseY),this.beforeMouseX=t,this.beforeMouseY=o;var h=this.moveLineX,d=this.moveLineY;d+=r,(h+=n)>0&&(this.moveLineX=h),d>0&&(this.moveLineY=d),this.pathTemp="M"+this.startLineX+","+this.startLineY+" L"+this.moveLineX+","+this.moveLineY}}}}),h=o(62),component=Object(h.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"setting-box"},[t("p",[e._v("色")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.strokeFill,expression:"strokeFill"}],attrs:{type:"color"},domProps:{value:e.strokeFill},on:{input:function(t){t.target.composing||(e.strokeFill=t.target.value)}}}),e._v(" "),t("p",[e._v("線の太さ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.strokeWidth,expression:"strokeWidth"}],attrs:{type:"range"},domProps:{value:e.strokeWidth},on:{__r:function(t){e.strokeWidth=t.target.value}}})]),e._v(" "),t("svg",{attrs:{width:e.width,height:e.height,viewBox:e.viewport},on:{wheel:e.zoompan,mousedown:function(t){return e.lineNode(t,e.idx)}}},[e._l(e.pathList,(function(path,o){return e.pathList.length>0?t("path",{key:o,attrs:{d:path,fill:"none",stroke:e.strokeFill,opacity:e.strokeOpacity,"stroke-width":e.strokeWidth,"stroke-linecap":"round"}}):e._e()})),e._v(" "),e.isLineNode?t("path",{attrs:{d:e.pathTemp,fill:"none",stroke:e.strokeFill,opacity:e.strokeOpacity,"stroke-width":e.strokeWidth,"stroke-linecap":"round"}}):e._e()],2)])}),[],!1,null,null,null);t.default=component.exports}}]);